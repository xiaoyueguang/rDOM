var simpleDomQuery=function(){"use strict";function t(t,e){let n=!1;return t.map(t=>{t.className.split(" ").includes(e)&&(n=!0)}),n}function e(t,e){return t.className.split(" ").includes(e)}function n(t,n){e(t,n)||(t.className=t.className+" "+n)}function i(t,n){if(e(t,n)){const e=t.className.split(" ").filter(t=>t!==n);t.className=e.join(" ")}}function s(t){let e=0;for(t.length=0,t._collections=[];t[e];)delete t[e],e++}function o(t,e){s(t),t._collections=e,t.length=e.length;let n=0;for(;n<t.length;n++)t[n]=e[n]}function r(t,e){return t=m(t),v.includes(t)&&"number"==typeof e?`${e}px`:e}function c(t,e,n,i){u(t,e,n).map(e=>{e.call(t,i)})}function l(t,e,n,i){!t[n]&&(t[n]={Event:{}}),!t[n].Event[e]&&(t[n].Event[e]=[]),t[n].Event[e].push(i)}function u(t,e,n){return t&&t[n]&&t[n].Event&&t[n].Event[e]}function h(t,e){let n="";return this.map(i=>{e?i.innerHTML=e:n+=i[t]}),e?this:n}function f(t){return new _.init(t)}var a=Object.freeze({addClass:function(t){return this.map(e=>{n(e,t)}),this},removeClass:function(t){return this.map(e=>{i(e,t)}),this},toggleClass:function(t){return this.map(s=>{e(s,t)?i(s,t):n(s,t)}),this},hasClass:function(e){return t(this,e)}}),p=Object.freeze({eq:function(t){const e=this._collections.length;return new this.init(this._collections[t>=0?t:e+t])},map:function(t){return Array.prototype.map.call(this._collections,t),this},filter:function(t){return o(this,Array.prototype.filter.call(this._collections,t)),this},clearCollection:s,setCollection:o});const m=t=>t.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`),d=t=>t.replace(/\-[a-z]/g,t=>t.substr(1).toUpperCase()),g=`simple-dom-query${Math.random().toString().substr(2)}`,y=window.getComputedStyle,v=["width","height","font-size"];var x=Object.freeze({needUnit:v,css:function(t,e){if(!this[0])return;const n=arguments.length;if(1===n&&"string"==typeof t){const e=d(t);return y(this[0])[e]}return 1===n&&"object"==typeof t&&this.map(e=>{for(let n in t)e.style[d(n)]=r(n,t[n])}),2===n&&this.map(n=>{n.style[t]=r(t,e)}),this}}),b=Object.freeze({on:function(t,e){return this.map(n=>{n[`on${t}`]=(e=>{c(n,t,this.uuid,e),e.stopPropagation()}),l(n,t,this.uuid,e)}),this},off:function(t,e){const n=1===arguments.length,i=this.uuid;return this.map(s=>{const o=u(s,t,i);if(o){if(n)for(;o.length>1;)o.pop();const t=o.indexOf(e);o.splice(t,1)}}),this},once:function(t,e){this.uuid;const n=this;return this.on(t,function(i){e.call(this,i),n.off(t,e)})},trigger:function(t){return this.map(e=>e[t]&&e[t]()),this}}),C=Object.freeze({text:function(t){return h.call(this,"innerText",t)},html:function(t){return h.call(this,"innerHTML",t)}});const _={uuid:g,init:function(t,e=document){this.query(t,e)},query:function(t,e){if("<"===t[0]){const e=document.createElement("div");e.innerHTML=t,o(this,e.children)}else if(1===t.nodeType)this[0]=t,this._collections=[t],this.length=1;else{this._selectors=t;const n=e.querySelectorAll(t);this._collections=n,o(this,n)}},extend(t){for(let e in t)_[e]=t[e]}};return _.init.prototype=_,_.extend(p),_.extend(a),_.extend(x),_.extend(b),_.extend(C),f.uuid=g,f.simpleDomQuery=_,window.$=f,f}();