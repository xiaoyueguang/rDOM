function addClass(e){return this.map(t=>{elemAddClass(t,e)}),this}function removeClass(e){return this.map(t=>{elemRemoveClass(t,e)}),this}function toggleClass(e){return this.map(t=>{isElemHasClass(t,e)?elemRemoveClass(t,e):elemAddClass(t,e)}),this}function hasClass(e){return isElemsHasClass(this,e)}function isElemsHasClass(e,t){let n=!1;return e.map(e=>{e.className.split(" ").includes(t)&&(n=!0)}),n}function isElemHasClass(e,t){return e.className.split(" ").includes(t)}function elemAddClass(e,t){isElemHasClass(e,t)||(e.className=e.className+" "+t)}function elemRemoveClass(e,t){if(isElemHasClass(e,t)){const n=e.className.split(" ").filter(e=>e!==t);e.className=n.join(" ")}}function eq(e){const t=this._collections.length;return new this.init(this._collections[e>=0?e:t+e])}function map(e){return Array.prototype.map.call(this._collections,e),this}function filter(e){return setCollection(this,Array.prototype.filter.call(this._collections,e)),this}function clearCollection(e){let t=0;for(e.length=0,e._collections=[];e[t];)delete e[t],t++}function setCollection(e,t){clearCollection(e),e._collections=t,e.length=t.length;let n=0;for(;n<e.length;n++)e[n]=t[n]}function css(e,t){if(!this[0])return;const n=arguments.length;if(1===n&&"string"==typeof e){const t=normalizeToCamel(e);return getComputedStyle(this[0])[t]}return 1===n&&"object"==typeof e&&this.map(t=>{for(let n in e)t.style[normalizeToCamel(n)]=setCorrectValue(n,e[n])}),2===n&&this.map(n=>{n.style[e]=setCorrectValue(e,t)}),this}function setCorrectValue(e,t){return e=normalizeToBreak(e),needUnit.includes(e)&&"number"==typeof t?`${t}px`:t}function on(e,t){return this.map(n=>{n[`on${e}`]=(t=>{eventHandler(n,e,this.uuid,t),t.stopPropagation()}),addEventFn(n,e,this.uuid,t)}),this}function off(e,t){const n=1===arguments.length,s=this.uuid;return this.map(i=>{const l=getEvents(i,e,s);if(l){if(n)for(;l.length>1;)l.pop();const e=l.indexOf(t);l.splice(e,1)}}),this}function once(e,t){this.uuid;const n=this;return this.on(e,function(s){t.call(this,s),n.off(e,t)})}function trigger(e){return this.map(t=>t[e]&&t[e]()),this}function eventHandler(e,t,n,s){getEvents(e,t,n).map(t=>{t.call(e,s)})}function addEventFn(e,t,n,s){!e[n]&&(e[n]={Event:{}}),!e[n].Event[t]&&(e[n].Event[t]=[]),e[n].Event[t].push(s)}function getEvents(e,t,n){return e&&e[n]&&e[n].Event&&e[n].Event[t]}function text(e){return replaceNodes.call(this,"innerText",e)}function html(e){return replaceNodes.call(this,"innerHTML",e)}function replaceNodes(e,t){let n="";return this.map(s=>{t?s.innerHTML=t:n+=s[e]}),t?this:n}function query(e,t){if("<"===e[0]){const t=document.createElement("div");t.innerHTML=e,setCollection(this,t.children)}else if(1===e.nodeType)this[0]=e,this._collections=[e],this.length=1;else{this._selectors=e;const n=t.querySelectorAll(e);this._collections=n,setCollection(this,n)}}function init(e,t=document){this.query(e,t)}function simpleDomQuery(e){return new $.init(e)}var classActions=Object.freeze({addClass:addClass,removeClass:removeClass,toggleClass:toggleClass,hasClass:hasClass}),collection=Object.freeze({eq:eq,map:map,filter:filter,clearCollection:clearCollection,setCollection:setCollection});const normalizeToBreak=e=>e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`),normalizeToCamel=e=>e.replace(/\-[a-z]/g,e=>e.substr(1).toUpperCase()),generateUuid=()=>Math.random().toString().substr(2),uuid=`simple-dom-query${Math.random().toString().substr(2)}`,getComputedStyle=window.getComputedStyle,needUnit=["width","height","font-size"];var styles=Object.freeze({needUnit:needUnit,css:css}),events=Object.freeze({on:on,off:off,once:once,trigger:trigger}),nodes=Object.freeze({text:text,html:html});const $={uuid:uuid,init:init,query:query,extend(e){for(let t in e)$[t]=e[t]}};$.init.prototype=$,$.extend(collection),$.extend(classActions),$.extend(styles),$.extend(events),$.extend(nodes),simpleDomQuery.uuid=uuid,simpleDomQuery.simpleDomQuery=$,window.$=simpleDomQuery;export default simpleDomQuery;